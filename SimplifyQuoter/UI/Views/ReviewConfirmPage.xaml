<!-- File: Views/ReviewConfirmPage.xaml -->
<UserControl x:Class="SimplifyQuoter.Views.ReviewConfirmPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="Auto"
             Width="Auto"
             Background="White">

	<Grid Margin="20">
		<Grid.RowDefinitions>
			<!-- Row 0: Instructions -->
			<RowDefinition Height="Auto"/>

			<!-- Row 1: Toolbar (Search, Download, Replace) -->
			<RowDefinition Height="Auto"/>

			<!-- Row 2: TabControl headers -->
			<RowDefinition Height="Auto"/>

			<!-- Row 3: Tab content (two DataGrids) -->
			<RowDefinition Height="*"/>

			<!-- Row 4: Back + Confirm & Process -->
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>


		<!-- ====================== -->
		<!-- Row 0: Instructions  -->
		<!-- ====================== -->
		<TextBlock Grid.Row="0"
                   Text="Review the data below. When ready, click Confirm &amp; Process."
                   FontSize="14"
                   FontWeight="SemiBold"
                   Margin="0,0,0,12"/>


		<!-- ====================== -->
		<!-- Row 1: Toolbar Icons  -->
		<!-- ====================== -->
		<StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    VerticalAlignment="Center"
                    Margin="0,0,0,12">
			<!-- We no longer use "Spacing" on StackPanel; instead, give each child a Right‐Margin of 8. -->

			<!-- Search Icon   -->
			<Button x:Name="BtnSearch"
                    Width="32"
                    Height="32"
                    ToolTip="Search"
                    Click="BtnSearch_Click"
                    Background="Transparent"
                    BorderBrush="Transparent"
                    Margin="0,0,8,0">
				<Image Source="/Assets/search_icon.png"
                       Stretch="Uniform"/>
			</Button>

			<!-- Download Icon -->
			<Button x:Name="BtnDownload"
                    Width="32"
                    Height="32"
                    ToolTip="Download Excel"
                    Click="BtnDownload_Click"
                    Background="Transparent"
                    BorderBrush="Transparent"
                    Margin="0,0,8,0">
				<Image Source="/Assets/download_icon.png"
                       Stretch="Uniform"/>
			</Button>

			<!-- Replace Excel Button -->
			<Button x:Name="BtnReplaceExcel"
                    Content="Replace Excel"
                    Height="32"
                    Padding="12,0"
                    Click="BtnReplaceExcel_Click"
                    Margin="0,0,8,0"/>
		</StackPanel>


		<!-- ============================ -->
		<!-- Row 2: TabControl (headers) -->
		<!-- ============================ -->
		<TabControl x:Name="PreviewTabs"
                    Grid.Row="2"
                    SelectedIndex="0"
                    Margin="0,0,0,12"
                    SelectionChanged="PreviewTabs_SelectionChanged">

			<!-- Tab 1: Item Master Preview -->
			<TabItem x:Name="TabItem_MasterPreview"
                     Header="Item Master Preview">
				<!-- Content is provided in Row 3 -->
			</TabItem>

			<!-- Tab 2: Quotation Preview -->
			<TabItem x:Name="TabItem_QuotePreview"
                     Header="Quotation Preview (0)">
				<!-- Content is provided in Row 3 -->
			</TabItem>
		</TabControl>


		<!-- ======================================= -->
		<!-- Row 3: Two DataGrids, one per TabItem   -->
		<!-- Only the visible one is Show/Hidden.    -->
		<!-- ======================================= -->
		<Grid Grid.Row="3">
			<!-- ItemMasterDataGrid is visible by default -->
			<DataGrid x:Name="ItemMasterDataGrid"
                      AutoGenerateColumns="False"
                      CanUserResizeColumns="True"
                      IsReadOnly="True"
                      HeadersVisibility="Column"
                      GridLinesVisibility="All"
                      Visibility="Visible" />

			<!-- QuotationDataGrid is collapsed initially -->
			<DataGrid x:Name="QuotationDataGrid"
                      AutoGenerateColumns="False"
                      CanUserResizeColumns="True"
                      IsReadOnly="True"
                      HeadersVisibility="Column"
                      GridLinesVisibility="All"
                      Visibility="Collapsed" />
		</Grid>


		<!-- ================================ -->
		<!-- Row 4: Back + Confirm & Process  -->
		<!-- ================================ -->
		<StackPanel Grid.Row="4"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,12,0,0">
			<Button Content="Back"
                    Width="100"
                    Click="BtnBack_Click"
                    Margin="0,0,12,0"/>
			<Button Content="Confirm &amp; Process"
                    Width="150"
                    Background="#28a745"
                    Foreground="White"
                    Click="BtnConfirm_Click"/>
		</StackPanel>
	</Grid>
</UserControl>
