<Window x:Class="SimplifyQuoter.Views.ImportWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:SimplifyQuoter.Converters"
        Title="Create Import TXT" Height="400" Width="700">

    <Window.Resources>
        <conv:ValueToWidthConverter x:Key="ValueToWidthConverter"/>

        <!-- Tile‐style button for the 2×2 grid -->
        <Style x:Key="TileButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                    CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Link‐style button for the Downloads links -->
        <Style x:Key="LinkButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="Blue"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="0"/>
        </Style>
    </Window.Resources>

    <Canvas>

        <!-- Top-left: Inside -->
        <Button Style="{StaticResource TileButtonStyle}"
            Name="BtnUploadInside"
            Click="BtnUploadInside_Click"
            Width="150" Height="150"
            Canvas.Left="21" Canvas.Top="36" HorizontalAlignment="Center" VerticalAlignment="Top">
            <StackPanel>
                <Image Source="/SimplifyQuoter;component/Assets/inside_icon.png"
               Width="48" Height="48"/>
                <TextBlock Text="Inside"
                   Margin="0,12,0,0"
                   FontSize="14"
                   HorizontalAlignment="Center"/>
            </StackPanel>
        </Button>

        <!-- Top-right: Process (now enabled by default) -->
        <Button Style="{StaticResource TileButtonStyle}"
            Name="BtnProcessImport"
            Click="BtnProcessImport_Click"
            Width="150" Height="150"
            Canvas.Left="181" Canvas.Top="36" HorizontalAlignment="Center" VerticalAlignment="Top">
            <StackPanel>
                <Image Source="/SimplifyQuoter;component/Assets/process_icon.png"
               Width="48" Height="48"/>
                <TextBlock Text="Process"
                   Margin="0,12,0,0"
                   FontSize="14"
                   HorizontalAlignment="Center"/>
            </StackPanel>
        </Button>

        <!-- Bottom-left: Info -->
        <Button Style="{StaticResource TileButtonStyle}"
            Name="BtnUploadInfo"
            Click="BtnUploadInfo_Click"
            Width="150" Height="150"
            Canvas.Left="21" Canvas.Top="202" HorizontalAlignment="Center" VerticalAlignment="Top">
            <StackPanel>
                <Image Source="/SimplifyQuoter;component/Assets/info_icon.png"
               Width="48" Height="48"/>
                <TextBlock Text="Info"
                   Margin="0,12,0,0"
                   FontSize="14"
                   HorizontalAlignment="Center"/>
            </StackPanel>
        </Button>

        <!-- Bottom-right: Import into SAP (now wired up) -->
        <Button Style="{StaticResource TileButtonStyle}"
            Name="BtnImportSap"
            Click="BtnImportSap_Click"
            IsEnabled="False"
            Width="150" Height="150"
            Canvas.Left="181" Canvas.Top="202" HorizontalAlignment="Center" VerticalAlignment="Top">
            <StackPanel>
                <Ellipse Width="48" Height="48" Fill="#DDD"/>
                <TextBlock Text="Coming Soon"
                   Margin="0,12,0,0"
                   FontSize="14"
                   HorizontalAlignment="Center"/>
            </StackPanel>
        </Button>

        <!-- Gray separator -->
        <Rectangle Canvas.Left="350"
               Canvas.Top="10"
               Width="1"
               Height="360"
               Fill="LightGray"/>

        <!-- Downloads header -->
        <TextBlock Text="Downloads"
               FontSize="18"
               FontWeight="Bold"
               Canvas.Left="386"
               Canvas.Top="47"/>

        <!-- Download Sheet A -->
        <Button x:Name="BtnDownloadA"
            Style="{StaticResource LinkButtonStyle}"
            Content="Download 'Item'"
            Click="BtnDownloadA_Click"
            IsEnabled="False"
            Canvas.Left="377"
            Canvas.Top="96" HorizontalAlignment="Center" VerticalAlignment="Top" Width="300"/>

        <!-- Download Sheet B -->
        <Button x:Name="BtnDownloadB"
            Style="{StaticResource LinkButtonStyle}"
            Content="Download 'Purchasing Price'"
            Click="BtnDownloadB_Click"
            IsEnabled="False"
            Canvas.Left="377"
            Canvas.Top="126" HorizontalAlignment="Center" VerticalAlignment="Top" Width="297"/>

        <!-- Download Sheet C -->
        <Button x:Name="BtnDownloadC"
            Style="{StaticResource LinkButtonStyle}"
            Content="Download 'Sales Price'"
            Click="BtnDownloadC_Click"
            IsEnabled="False"
            Canvas.Left="377"
            Canvas.Top="156" HorizontalAlignment="Center" VerticalAlignment="Top" Width="299"/>



        <!-- The gray “track” -->
        <Border x:Name="ProgressContainer"
        Canvas.Left="377" Canvas.Top="210"
        Width="300" Height="20"
        CornerRadius="4"
        Background="#DDD"/>

        <Rectangle x:Name="ProgressFill"
           Canvas.Left="377" Canvas.Top="210"
           Height="20"
           Fill="Black">
            <Rectangle.Width>
                <MultiBinding Converter="{StaticResource ValueToWidthConverter}">
                    <!-- current percent -->
                    <Binding ElementName="PbProgress" Path="Value"/>
                    <!-- actual track width -->
                    <Binding ElementName="ProgressContainer" Path="ActualWidth"/>
                </MultiBinding>
            </Rectangle.Width>
        </Rectangle>

        <ProgressBar x:Name="PbProgress"
             Canvas.Left="377" Canvas.Top="210"
             Width="300" Height="20"
             Minimum="0" Maximum="100"
             Foreground="Black"
             Background="#DDD"
             Visibility="Visible"/>




        <!-- Log box -->
        <ListBox x:Name="TxtLog"
                 Canvas.Left="374" Canvas.Top="240"
                 Width="300" Height="136"
                 FontFamily="Consolas"
                 FontSize="12"/>

    </Canvas>
</Window>
